const data = {
    "en": [
        {
            question: "How do I book my dream tour?",
            answer: "The easiest way to book is directly through our website. One click on the \"Book Now\" button and you will be guided through the few and easy booking steps.",
        },
        {
            question: "How can I pay?",
            answer: "You can pay for your booking easily and securely via Paypal.\nIf you would like to buy drinks on board, you can pay both in cash and by credit card.",
        },
        {
            question: "Can I cancel my booking?",
            answer: "Cancellation is free of charge up to 48 hours before departure. Between 48 and 24 hours before the start of the tour we charge 50% of the amount. If you should want to cancel your booking within the 24 hours prior to the start of the tour, then the full amount is due.",
        },
        {
            question: "Is the Steve Rogers crew fully trained and licensed?",
            answer: "Of course they are. Both, the skipper and the accompanying crew, are trained for the tours, licensed and insured for tours in Spain.\nIn addition: life jackets, first aid kits, light medication against seasickness and the prescribed safety equipment are available and are checked regularly.",
        },
        {
            question: "Will the tour also take place in bad weather?",
            answer: "Your safety and of course fun are our top priority. The responsibility and decision lies exclusively in the hands of the skipper.\nIf the weather does not permit the trip, the skipper reserves the right to cancel the tour on our behalf and we will look for an alternative together with you. If we are unable to find one, we will of course refund the full tour price.",
        },
        {
            question: "What should I take on board?",
            answer: "To make sure that the tour is a dream tour and that you can fully enjoy the time on board and the swimming, we recommend that you bring a few things with you: Sunscreen, sun protection for your head and maybe shoulders, sunglasses as well as bathing cloths and a towel. And of course the following would be wonderful: lots of anticipation and a good holiday mood. Apart from that: as little as possible.",
        },
        {
            question: "Is there a toilet on board?",
            answer: "Yes, there is. ...even two! And our heartfelt request in advance: do not throw any paper into the toilet!",
        },
        {
            question: "Can I bring my own drinks on board?",
            answer: "Water in plastic bottles is perfectly ok, other drinks are not. However, you can buy coffee, tea and wonderfully chilled soft drinks and also alcoholic summer drinks on board at the best value for money you will find on a sailing boat.",
        },
        {
            question: "What is included in the total price?",
            answer: "Included are the tour, skipper and hostess, insurance, water and delicious tapas, fun equipment such as SUPs, diving goggles, snorkelling gear, swim rings and pool noodles. And... we promise to bring our good vibes too.",
        },
        {
            question: "What is not included in the price?",
            answer: "Drinks – both, alcoholic and non-alcoholic - are not included in the booking price. Exception: still water. However, you can buy coffee, tea and wonderfully chilled non-alcoholic drinks on board, as well as alcoholic summer drinks, at the best value for money to be found on a sailing boat.",
        },
        {
            question: "Are shoes allowed to be worn on board?",
            answer: "We board sailboats without shoes. The nice thing is that teak feels great under your feet! So until you board, we recommend light shoes like flip-flops or comfortable, flat shoes that are easy to carry in your hands or to pack in your bag.",
        },
        {
            question: "Could I have a party on board?",
            answer: "Absolutely. However, only on one of the exclusively private tours. If this is your wish, we will be happy to discuss all the details with you in advance.",
        },
        {
            question: "Is there music on board?",
            answer: "Yes, for us music is part of a nice catamaran tour. We have a large selection of playlists, but we can also connect your device to our sound system.",
        },
        {
            question: "What can I expect when I book a tour with SailPalma?",
            answer: "You can expect an extraordinary trip along the beautiful coast in the south of Mallorca on what we consider to be one of the most beautiful catamarans in the world. Crystal clear water, exceptional homemade tapas and a selection of delicious drinks await you, as well as a warm, open and friendly crew who are always there for you!",
        },
    ],
    "de": [
        {
            question: "Wie buche ich meine Traum Tour?",
            answer: "Am einfachsten ist die Buchung direkt über unsere Website. Ein Klick auf den Button „Book Now“ und Du wirst durch die wenigen und leichten Buchungsschritte hindurch geführt. Wenn es viele Fragen gibt, die hier nicht aufgeführt sind, kannst Du uns jederzeit auch über das Kontaktformular erreichen, per Mail an info@sailpalma.com, unter der angegeben Telefonnummer und selbstverständlich auch über WhatsApp.",
        },
        {
            question: "Wie kann ich bezahlen?",
            answer: "Deine Buchung kannst Du ganz einfach und sicher über Paypal bezahlen.\nFalls Du Getränke an Bord kaufen möchtest, kannst Du sowohl bar als auch mit der Kreditkarte bezahlen.",
        },
        {
            question: "Kann ich meine Buchung stornieren?",
            answer: "Eine kostenfreie Stornierung ist bis 48 Stunden vor Abfahrt möglich. Zwischen 48 und 24 Stunden vor Tourbeginn berechnen wir 50% des Betrages. Solltest Du die Buchung innerhalb der 24 Stunden vor Beginn der Tour stornieren wollen, dann ist der volle Betrag fällig.",
        },
        {
            question: "Ist die Crew der Steve Rogers vollständig ausgebildet und lizensiert?",
            answer: "Selbstverständlich. Sowohl der Skipper als auch die begleitenden Crewmitglieder sind für die Touren ausgebildet, lizensiert und für Touren in Spanien versichert. Hinzu kommt: Schwimmwesten, 1. Hilfe Koffer, leichte Medikamente gegen Seekrankheit und das vorgeschriebene Sicherheits-Equipment sind vorhanden und werden regelmäßig gecheckt.",
        },
        {
            question: "Findet die Tour auch bei schlechtem Wetter statt?",
            answer: "Deine Sicherheit und natürlich auch der Spaß stehen für uns an erster Stelle. Die Verantwortung und auch Entscheidung liegt ausschließlich in der Hand des Skippers. Sollte das Wetter die Fahrt nicht erlauben, so behält dieser sich in unserem Namen vor, die Tour abzusagen und wir suchen gemeinsam mit Dir nach einer Alternative. Sollte uns das nicht gelingen, so erstatten wir Dir selbstverständlich den vollen Tourpreis.",
        },
        {
            question: "Was sollte ich mit an Bord nehmen?",
            answer: "Damit die Tour wirklich zu einer Traum Tour wird und Du die Zeit an Bord und beim Schwimmen voll und ganz genießen kannst, empfehlen wir Dir mitzubringen: Sonnencreme, Sonnenschutz für den Kopf und vielleicht auch die Schultern, Sonnenbrille und Handtuch. Und natürlich wäre wunderbar: Ganz viel Vorfreude und gute Urlaubsstimmung. Ansonsten gilt: so wenig wie möglich.",
        },
        {
            question: "Gibt es eine Toilette an Bord?",
            answer: "Ja, die gibt es. ...sogar zwei! Und schon jetzt vorab unsere innige Bitte: kein Papier in die Toilette hineinwerfen!",
        },
        {
            question: "Kann ich meine eigenen Getränke mit Bord bringen?",
            answer: "Wasser in Plastikflaschen ist vollkommen ok, andere Getränke nicht. Du kannst an Bord allerdings Kaffee, Tee und wunderbar gekühlte alkoholfreie Getränke und auch alkoholische Sommerdrinks zu dem besten Preis-Leistungs-Verhältnis, das auf einem Segelboot zu finden ist, kaufen.",
        },
        {
            question: "Was ist in dem Gesamtpreis enthalten?",
            answer: "Included are the tour, skipper and hostess, insurance, water and delicious tapas, fun equipment such as SUPs, diving goggles, snorkelling gear, swim rings and pool noodles. And... we promise to bring our good vibes too.",
        },
        {
            question: "Was ist nicht im Preis enthalten?",
            answer: "Alle Getränke – sowohl alkoholische als auch nicht-alkoholische Getränke - sind nicht im Buchungspreis enthalten. Ausgenommen: stilles Wasser. Du kannst an Bord allerdings Kaffee, Tee und wunderbar gekühlte alkoholfreie Getränke und auch alkoholische Sommerdrinks zu dem besten Preis-Leistungs-Verhältnis, das auf einem Segelboot zu finden ist, kaufen.",
        },
        {
            question: "Dürfen an Bord Schuhe getragen werden?",
            answer: "Segelboote betreten wir ohne Schuhe. Das Schöne ist, dass Teak sich an den Füßen ganz großartig anfühlt. Wir empfehlen also bis zum Eintritt, leichte Schuhe wie Flip- Flops oder bequeme, flache Schuhe, die sich leicht in die Hand nehmen oder in die Tasche packen lassen.",
        },
        {
            question: "Könnte ich an Bord auch eine Party feiern?",
            answer: "Auf jeden Fall. Allerdings nur auf einer der exklusiv privaten Touren. Sollte das Dein Wunsch sein, besprechen wir vorab gerne alle Einzelheiten mit Dir.",
        },
        {
            question: "Gibt es Musik an Bord?",
            answer: "Ja. Musik gehört auch für uns zu einer schönen Katamarantour dazu. Wir haben selbst eine große Auswahl an Playlists, können aber gerne auch Dein Device mit unserem Soundsystem verbinden.",
        },
        {
            question: "Was kann ich erwarten, wenn ich eine Tour bei SailPalma buche?",
            answer: "Dich erwartet ein außergewöhnlicher Ausflug entlang der wunderschönen Küste im Süden Mallorcas auf einem - wie wir finden - der schönsten Katamarane der Werft Fountaine Pajot. Glasklares Wasser, außergewöhnliche hausgemachte Tapas und eine Auswahl an leckeren Getränken warten auf Dich genauso wie eine herzliche, offene und freundliche Crew. ...immer für Dich da!",
        },
    ],
    "es": [
        {
            question: "¿Cómo reservo el viaje de mis sueños?",
            answer: "La forma más fácil de reservar es directamente a través de nuestra página web.\nUn clic en el botón \"Reservar ahora\" y se le guiará a través de los pocos y sencillos pasos de la reserva.",
        },
        {
            question: "¿Cómo se paga?",
            answer: "Puede pagar su reserva de forma fácil y segura a través de Paypal.\nSi desea comprar bebidas a bordo, puede pagar en efectivo o con tarjeta de crédito.",
        },
        {
            question: "¿Puedo cancelar mi reserva?",
            answer: "La cancelación es gratuita hasta 48 horas antes de la salida. Entre 48 y 24 horas antes del inicio del viaje se cobra el 50% del importe. Si desea cancelar su reserva dentro de las 24 horas anteriores al inicio del viaje, deberá abonar el importe total.",
        },
        {
            question: "¿Está el equipo de Steve Rogers totalmente capacitado y con licencia?",
            answer: "Por supuesto que sí. Tanto el patrón como los miembros de la tripulación que le acompañan están formados para las excursiones, tienen licencia y están asegurados para las excursiones en España. Además: chalecos salvavidas, botiquines de primeros auxilios, medicación ligera contra el mareo y el equipo de seguridad prescrito están disponibles y se revisan regularmente.",
        },
        {
            question: "¿Se llevará a cabo el recorrido también con mal tiempo?",
            answer: "Su seguridad y, por supuesto, la diversión son nuestra máxima prioridad. La responsabilidad y la decisión están exclusivamente en manos del patrón.Si el tiempo no permite el viaje, el patrón se reserva el derecho de cancelar la excursión en nuestro nombre y buscaremos una alternativa junto con usted. Si no podemos hacerlo, por supuesto que le devolveremos el precio total del viaje.",
        },
        {
            question: "¿Qué debo llevar a bordo?",
            answer: "Para que la excursión sea de ensueño y pueda disfrutar plenamente del tiempo a bordo y del baño, le recomendamos que lleve algunas cosas: Crema solar, protección solar para la cabeza y tal vez para los hombros, gafas de sol, así como traje de baño y toalla. Y, por supuesto, lo siguiente sería maravilloso: mucha expectación y buen humor navideño. Por lo demás: lo menos posible.",
        },
        {
            question: "¿Hay un baño a bordo?",
            answer: "Sí, lo hay. ...¡incluso dos! Y nuestra más sincera petición de antemano: ¡no tiren ningún papel al inodoro!",
        },
        {
            question: "¿Puedo llevar mis propias bebidas a bordo?",
            answer: "El agua en botellas de plástico está perfectamente permitida, las demás bebidas no. Sin embargo, puede comprar a bordo café, té y refrescos maravillosamente fríos y también bebidas alcohólicas de verano con la mejor relación calidad-precio que encontrará en un velero.",
        },
        {
            question: "¿Qué se incluye en el precio total?",
            answer: "Se incluye la excursión, el patrón y la azafata, el seguro, el agua y las deliciosas tapas, el equipo de diversión como el SUP, las gafas de buceo, el equipo de snorkel, los anillos de natación y los fideos de piscina.\nY... prometemos traer también nuestras buenas vibraciones.",
        },
        {
            question: "¿Qué no está incluido en el precio?",
            answer: "Las bebidas, tanto alcohólicas como no alcohólicas, no están incluidas en el precio de la reserva.\nExcluido: agua sin gas. Sin embargo, a bordo se puede comprar café, té y bebidas no alcohólicas maravillosamente frías, así como bebidas alcohólicas de verano, con la mejor relación calidad-precio que se puede encontrar en un barco de vela.",
        },
        {
            question: "¿Está permitido llevar zapatos a bordo?",
            answer: "Subimos a los veleros sin zapatos. Lo bueno es que la teca se siente muy bien en los pies.\nPor eso, hasta que suba a bordo, le recomendamos un calzado ligero, como chanclas o zapatos cómodos y planos, fáciles de llevar en la mano o de meter en la maleta.",
        },
        {
            question: "¿Podría tener una fiesta a bordo?",
            answer: "Por supuesto. Sin embargo, sólo en una de las visitas exclusivamente privadas. Si este es su deseo, estaremos encantados de discutir todos los detalles con usted por adelantado.",
        },
        {
            question: "¿Hay música a bordo?",
            answer: "Sí, para nosotros la música forma parte de un bonito paseo en catamarán. Tenemos una gran selección de listas de reproducción, pero también podemos conectar su dispositivo a nuestro sistema de sonido.",
        },
        {
            question: "¿Qué puedo esperar al reservar una excursión con SailPalma?",
            answer: "Le espera un viaje extraordinario a lo largo de la hermosa costa del sur de Mallorca en lo que consideramos uno de los catamaranes más bellos del mundo. Le esperan aguas cristalinas, excepcionales tapas caseras y una selección de deliciosas bebidas, así como un equipo cálido, abierto y amable que siempre está a su disposición.",
        },
    ]
}


function init() {
    const modalQA = document.querySelector('#modal-qa');
    const qaButton = document.querySelector('.qa-button');
    const qaList = document.querySelector('#qa_list');

    const showQaModal = () => {
        modalQA.classList.add('visible');
        createQaContent();
    }

    const hideQaModal = () => {
        modalQA.classList.remove('visible');
        qaList.innerHTML = '';
    }

    const onQaButtonClick = () => {
        showQaModal();
        qaButton.removeEventListener('click', onQaButtonClick);
        modalQA.addEventListener('click', onDocumentClick); 
    }

    const onDocumentClick = (event) => {
        const isOutside = !event.target.closest('.modal-qa');
        if (isOutside) {
            hideQaModal();
            qaButton.addEventListener('click', onQaButtonClick); 
            modalQA.removeEventListener('click', onDocumentClick);
        }
    }

    const onQuestionClick = (event) => {
        console.log('onQuestionClick: ', onQuestionClick);
        const question = event.currentTarget;
        question.classList.toggle('active');
    }

    const createQaContent = () => {
        const lang = document.querySelector('.hero-header__first__locale.active').textContent || 'en';
        const questions = data[lang];

        questions.forEach(({ question, answer }) => {
            const div = document.createElement('div');
            div.classList.add('modal-qa__question');
            div.innerHTML = `<div class="modal-qa__question__string"><img class="modal-qa__question__image" src="./imgs/arrow.svg"><span class="modal-qa__question__text">${question}</span></div><div class="modal-qa__answer">${answer}</div>`;
            qaList.appendChild(div);
        })

        const questionBlocks = document.querySelectorAll('.modal-qa__question');
        console.log('questionBlocks: ', questionBlocks);

        Array.from(questionBlocks).forEach(questionBlock => questionBlock.addEventListener('click', onQuestionClick));
    }

    qaButton.addEventListener('click', onQaButtonClick);
};

document.addEventListener('DOMContentLoaded', init)